# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/media/rockchip,rk3588-iep2.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Rockchip Image Enhancement Processor v2 (IEP2)

description:
    The Rockchip IEP2 is a second-generation image enhancement processor
    that supports hardware-accelerated YUV deinterlacing with motion
    detection, motion estimation, and edge-directed interpolation.

maintainers:
  - Heiko Stuebner <heiko@sntech.de>

properties:
  compatible:
    enum:
      - rockchip,rk3576-iep2
      - rockchip,rk3588-iep2

  reg:
    maxItems: 1

  interrupts:
    maxItems: 1

  clocks:
    maxItems: 3

  clock-names:
    items:
      - const: aclk
      - const: hclk
      - const: sclk

  power-domains:
    maxItems: 1

  iommus:
    maxItems: 1

  resets:
    maxItems: 3

  reset-names:
    items:
      - const: axi
      - const: ahb
      - const: core

required:
  - compatible
  - reg
  - interrupts
  - clocks
  - clock-names

additionalProperties: false

examples:
  - |
    #include <dt-bindings/clock/rockchip,rk3588-cru.h>
    #include <dt-bindings/interrupt-controller/arm-gic.h>
    #include <dt-bindings/power/rk3588-power.h>
    #include <dt-bindings/reset/rockchip,rk3588-cru.h>

    iep2: iep@fdbb0000 {
      compatible = "rockchip,rk3588-iep2";
      reg = <0xfdbb0000 0x500>;
      interrupts = <GIC_SPI 117 IRQ_TYPE_LEVEL_HIGH>;
      clocks = <&cru ACLK_IEP2P0>, <&cru HCLK_IEP2P0>,
               <&cru CLK_IEP2P0_CORE>;
      clock-names = "aclk", "hclk", "sclk";
      power-domains = <&power RK3588_PD_VDPU>;
      resets = <&cru SRST_A_IEP2P0>, <&cru SRST_H_IEP2P0>,
               <&cru SRST_IEP2P0_CORE>;
      reset-names = "axi", "ahb", "core";
    };
